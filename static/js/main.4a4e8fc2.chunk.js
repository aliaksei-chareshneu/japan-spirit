(this["webpackJsonpjapan-spirit"]=this["webpackJsonpjapan-spirit"]||[]).push([[0],{12:function(e,t,n){e.exports=n(19)},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(9),l=n.n(c),i=n(10),r=n(5);var s=n(20),u=n(21),m=n(22),d=n(23),f=function(e){var t=function(e){var t=Object(a.useState)(!1),n=Object(r.a)(t,2),o=n[0],c=n[1],l=Object(a.useState)(new Audio(e)),i=Object(r.a)(l,1)[0];return Object(a.useEffect)((function(){if(o){console.log(o);var t=i.play();console.log(e),void 0!==t&&t.then((function(e){console.log("audio played auto")})).catch((function(e){console.log("playback prevented"),console.log(e)}))}else i.pause()}),[o]),Object(a.useEffect)((function(){return i.addEventListener("ended",(function(){return c(!1)})),function(){i.removeEventListener("ended",(function(){return c(!1)}))}}),[]),[o,function(){console.log("Before toggle",o),c(!o),console.log("After toggle",o)}]}(e.url),n=Object(r.a)(t,2),c=n[0],l=n[1];return o.a.createElement(d.a,{onClick:l,variant:"secondary",size:"lg",block:!0},c?"Pause music":"Play music")},g=function(){var e=Object(a.useState)(null),t=Object(r.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(null),d=Object(r.a)(l,2),g=d[0],h=d[1],p=function(){return new Promise((function(e){console.log("Hieroglyph is being fetched..."),fetch("https://kanjiapi.dev/v1/kanji/grade-1").then((function(e){return e.json()})).then((function(t){var n,a;fetch("https://kanjiapi.dev/v1/kanji/"+t[(n=1,a=t.length,n=Math.ceil(n),a=Math.floor(a),Math.floor(Math.random()*(a-n))+n)]).then((function(e){return e.json()})).then((function(t){console.log(t),e(t)}))}))}))},b=function(){return new Promise((function(e){console.log("Image is being fetched..."),fetch("https://source.unsplash.com/collection/1252289").then((function(t){console.log(t.url),e(t.url)}))}))},E=function(){return Promise.all([new Promise((function(e){var t=document.getElementById("overlay");t.addEventListener("animationend",(function n(){t.removeEventListener("animationend",n),e("Animation ended, callback function removed")})),t.classList.remove("fadeout"),t.classList.add("fadein")})),p(),b()]).then((function(e){document.getElementById("hint").style.opacity="0",Object(i.a)(document.querySelectorAll("button")).forEach((function(e){return e.blur()})),console.log(e),c(e[1]),h(e[2]),document.getElementById("overlay").classList.remove("fadein"),document.getElementById("overlay").classList.add("fadeout")}))};return Object(a.useEffect)((function(){Promise.all([p(),b()]).then((function(e){console.log(e),c(e[0]),h(e[1]),document.getElementById("overlay").classList.remove("fadein"),document.getElementById("overlay").classList.add("fadeout")}));var e=document.getElementById("overlay");e.onanimationstart=function(e){console.log("Start of ".concat(e.animationName," animation"))},e.onanimationend=function(e){console.log("End of ".concat(e.animationName," animation"))}}),[]),o.a.createElement("main",{id:"box",className:"text-center center-all text-white",style:{backgroundImage:"url(".concat(g,")")}},o.a.createElement("div",{id:"overlay",className:"text-center center-all japan-spirit display-4"},o.a.createElement("p",null,"japan",o.a.createElement("br",null),"spirit"),o.a.createElement("svg",{className:"rising-sun",width:"200",height:"200",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("circle",{cx:"100",cy:"100",r:"100",fill:"darkred"}))),o.a.createElement(s.a,{fluid:!0,style:{maxWidth:"700px"}},o.a.createElement("article",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement(u.a,null,o.a.createElement(m.a,null,o.a.createElement("h1",{lang:"ja-jp",className:"p-1 display-1"},n?n.kanji:"..."),o.a.createElement("h2",{id:"hint",style:{opacity:"0"},className:"p-1 mb-5"},n?n.heisig_en:"..."))),o.a.createElement(u.a,null,o.a.createElement(m.a,{sm:4},o.a.createElement("button",{className:"btn btn-lg btn-secondary btn-block mb-2",onClick:function(){document.getElementById("hint").style.opacity="1"}},"Show hint")),o.a.createElement(m.a,{sm:4},o.a.createElement("button",{className:"btn btn-lg btn-secondary btn-block mb-2",onClick:function(){E()}},"New hieroglyph")),o.a.createElement(m.a,{sm:4},o.a.createElement(f,{url:"https://upload.wikimedia.org/wikipedia/commons/transcoded/a/a3/Kimi_ga_Yo_instrumental.ogg/Kimi_ga_Yo_instrumental.ogg.mp3"})))))))},h=function(){return o.a.createElement(g,null)};n(17),n(18);l.a.render(o.a.createElement(h,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.4a4e8fc2.chunk.js.map