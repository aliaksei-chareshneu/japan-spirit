(this["webpackJsonpjapan-spirit"]=this["webpackJsonpjapan-spirit"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(7),l=n.n(c),i=n(5);var r=n(17),s=n(18),m=n(19),u=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(null),u=Object(i.a)(l,2),d=u[0],f=u[1],h=Object(a.useState)(null),g=Object(i.a)(h,2),y=(g[0],g[1]),b=function(){return new Promise((function(e){console.log("Hieroglyph is being fetched..."),fetch("https://kanjiapi.dev/v1/kanji/grade-1").then((function(e){return e.json()})).then((function(t){var n,a;fetch("https://kanjiapi.dev/v1/kanji/"+t[(n=1,a=t.length,n=Math.ceil(n),a=Math.floor(a),Math.floor(Math.random()*(a-n))+n)]).then((function(e){return e.json()})).then((function(t){y(t),console.log(t),e(t)}))}))}))},p=function(){return new Promise((function(e){console.log("Image is being fetched..."),fetch("https://source.unsplash.com/collection/1252289").then((function(t){f(t.url),console.log(t.url),e("Image fetched and set!")}))}))},E=function(){return Promise.all([new Promise((function(e){var t=document.getElementById("overlay");t.addEventListener("animationend",(function n(){t.removeEventListener("animationend",n),e("Animation ended, callback function removed")})),t.classList.remove("fadeout"),t.classList.add("fadein")})),b(),p()]).then((function(e){document.getElementById("hint").style.opacity="0",console.log(e),c(e[1]),console.log(e[1]),document.getElementById("overlay").classList.remove("fadein"),document.getElementById("overlay").classList.add("fadeout")}))};return Object(a.useEffect)((function(){Promise.all([b(),p()]).then((function(e){console.log(e),c(e[0]),console.log(e[0]),document.getElementById("overlay").classList.remove("fadein"),document.getElementById("overlay").classList.add("fadeout")}));var e=document.getElementById("overlay");e.onanimationstart=function(e){console.log("Start of ".concat(e.animationName," animation"))},e.onanimationend=function(e){console.log("End of ".concat(e.animationName," animation"))}}),[]),o.a.createElement("main",{id:"box",className:"text-center vertical-center text-white",style:{backgroundImage:"url(".concat(d,")")}},o.a.createElement("div",{id:"overlay",className:"text-center display-2"},"Japan Spirit"),o.a.createElement(r.a,{fluid:!0,style:{maxWidth:"600px"}},o.a.createElement("article",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement(s.a,null,o.a.createElement(m.a,null,o.a.createElement("h1",{lang:"ja-jp",className:"p-1 display-1"},n?n.kanji:"..."),o.a.createElement("h2",{id:"hint",style:{opacity:"0"},className:"p-1 mb-5"},n?n.heisig_en:"..."))),o.a.createElement(s.a,null,o.a.createElement(m.a,null,o.a.createElement("button",{className:"btn btn-lg btn-secondary btn-block mb-2",onClick:function(){document.getElementById("hint").style.opacity="1"}},"Show hint")),o.a.createElement(m.a,null,o.a.createElement("button",{className:"btn btn-lg btn-secondary btn-block mb-2",onClick:function(){E()}},"Another hieroglyph")))))))},d=function(){return o.a.createElement(u,null)};n(13),n(14);l.a.render(o.a.createElement(d,null),document.getElementById("root"))},8:function(e,t,n){e.exports=n(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.7c2f3623.chunk.js.map